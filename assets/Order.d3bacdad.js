import{_ as z,m as F,s as t,U as P,r as l,o as a,c as u,j as p,w as f,u as s,z as R,F as x,d as m,e as w,a as n,t as d,V as U}from"./index.65ef0bc3.js";const j={class:"order-box"},D={class:"list"},E=["src"],M={__name:"Order",setup(T){let C=F(),b=t([{text:"\u5168\u90E8",status:""},{text:"\u5F85\u4ED8\u6B3E",status:"0"},{text:"\u5F85\u786E\u8BA4",status:"1"},{text:"\u4EE3\u53D1\u8D27",status:"2"},{text:"\u5DF2\u53D1\u8D27",status:"3"},{text:"\u4EA4\u6613\u5B8C\u6210",status:"4"}]),i=t([]),o=t(!1),g=t(!1),h=t(0),k=t(""),_=t(0),I=r=>{_.value=r},y=async()=>{let r=await U(h.value++,k.value);r.data.list.length==0&&(g.value=!0),i.value=i.value.concat(r.data.list),o.value=!1};return P(_,()=>{console.log(_.value),k.value=b.value[_.value].status,h.value=0,i.value=[],g.value=!1,y()}),(r,c)=>{const L=l("van-icon"),O=l("van-nav-bar"),B=l("van-tab"),N=l("van-tabs"),S=l("van-cell"),V=l("van-list");return a(),u("div",j,[p(O,{fixed:"",title:"\u6211\u7684\u8BA2\u5355","left-arrow":"",onClickLeft:c[0]||(c[0]=e=>s(C).back())},{right:f(()=>[p(L,{name:"ellipsis",size:"18"})]),_:1}),p(N,{onChange:s(I)},{default:f(()=>[(a(!0),u(x,null,m(s(b),e=>(a(),w(B,{key:e.text,title:e.text},null,8,["title"]))),128))]),_:1},8,["onChange"]),p(V,{offset:80,loading:s(o),"onUpdate:loading":c[1]||(c[1]=e=>R(o)?o.value=e:o=e),finished:s(g),"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:s(y)},{default:f(()=>[(a(!0),u(x,null,m(s(i),e=>(a(),w(S,{key:e.orderId},{default:f(q=>[n("div",D,[n("p",null," \u8BA2\u5355\u65F6\u95F4:"+d(e.createTime)+"\u2014\u2014\u2014\u2014 "+d(e.orderStatusString),1),(a(!0),u(x,null,m(e.newBeeMallOrderItemVOS,v=>(a(),u("div",{key:v.goodsId},[n("img",{src:v.goodsCoverImg,style:{width:"180px"},alt:""},null,8,E),n("p",null,"\u540D\u79F0\uFF1A"+d(v.goodsName),1),n("p",null,"\u5355\u4EF7\uFF1A"+d(v.sellingPrice),1)]))),128)),n("p",null,"\u603B\u4EF7\u683C\uFF1A"+d(e.totalPrice),1)])]),_:2},1024))),128))]),_:1},8,["loading","finished","onLoad"])])}}},G=z(M,[["__scopeId","data-v-283ce09d"]]);export{G as default};
